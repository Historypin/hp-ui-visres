@import "compass";
@import "susy";
@import "_reset";
@import "_typeplate-vars";
@import "_typeplate";
/*@import "_introjs";*/

@import "_dialog";
@import "_navigation";
@import "_forms";
@import "_buttons";
@import "_article";
@import "activity";

@include border-box-sizing;

body { padding: 2em 0; } 
a { color: #369; }

#header, #footer {
	display: block; 
	width: 100%; 
	height: 2em; 
	background: #090;
	position: absolute;
	left: 0;
	z-index: 10000;
	overflow: hidden; 

	a { color: #FFF; }
}

#header {
	top: 0;

	h1 {
		width: 10em;
		position: absolute; left: 1em; top: 0;
		height: 100%;
		font-size: 1em; line-height: 2em;
		background-size: contain; 
	}

	nav {
		display: block; padding-left: 10em; 

		li { line-height: 2em; }
	}

}

#footer {
	bottom: 0;

	a { line-height: 2em; }
}

#wrapper {
	 
}

$layoutDebug	  : false;

$total-columns    : 5;
$column-width     : 4em;
$gutter-width     : 0em;
$grid-padding     : 0;

$medium-columns   : 8;
$large-columns    : 16;

$container-width  : container-outer-width($large-columns);

#container {
	width: 100%; height: 100%; position: relative; 
}	
	
.section { 
	display: none; 
	@include container;
	height: 100%; 
	overflow: hidden;
	/*@include susy-grid-background;*/
	/*@include at-breakpoint($medium-columns) { @include susy-grid-background; }*/
	/*@include at-breakpoint($large-columns) { @include susy-grid-background; }*/

	.column {
		height: 100%;
		z-index: 900; 

		/*@include single-transition(all, 0.3s, linear);*/
		@include transition(.3s all ease);
	}

	.column.left, .column.right {
		@include opacity(0);
	}

	.column.left {

		@if $layoutDebug == true {
			background: rgba(#900,.75);
		}
		
		.show-left & { @include opacity(1); }

		@include at-breakpoint($medium-columns) {
			@include opacity(1);
			.show-right & { @include opacity(0); }
		}

		@include at-breakpoint($large-columns) {
			&, .show-right & { @include opacity(1); }
		}

	}

	.column.map {

		@if $layoutDebug == true {
			background: rgba(#090,.75);
		}

	}

	.column.right {

		@if $layoutDebug == true {
			background: rgba(#009,.75);
		}

		.show-right & { @include opacity(1); }

		@include at-breakpoint($large-columns) { @include opacity(1); }
	}
}

$anchor : 1;
$side   : $total-columns - $anchor;

.column.left {
	@include span-columns($side);
	margin-left: -100%;
	
	.show-left & { margin-left: 0; }
}

.column.map { 
	@include span-columns($total-columns);
	margin-right: -100%;
	
	.show-right & { margin-left: - space($side); }
}

.column.right {
	margin-right: -100%;
	@include span-columns($side omega);

	.show-right & { margin-right: 0; }
}


$main : 5;
$side : $medium-columns - $main;

@include at-breakpoint($medium-columns) {

	[href="#left"] { visibility: hidden; }

	.column.left {
		@include span-columns($side);
		margin-left: 0;
		.show-right & { margin-left: - 100%; }
	}

	.column.map {
		width: columns($main);
		.show-right & { margin-left: 0; }
	}

	.column.right {
		width: columns($side);
		.show-right & { margin-right: 0; }
	}
}
		
$main : 8;
$side : ($large-columns - $main)/2;

@include at-breakpoint($large-columns) {
	[href="#right"] { visibility: hidden; }

	.column.left {
		.show-right & { margin-left: 0; }
	}

	.section { width: 100%; max-width: 100%; }

	.column.left,
	.column.map,
	.column.right { width: 33.33%;  }
}


/* --- Sections --- */
.explore .section#explore { display: block; }


#pin { height: 100%; overflow: auto; }
